!function(){"use strict";const e={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".form__button",inactiveButtonClass:"form__button_disabled",inputErrorClass:"form__input_type_error",errorClass:"form__input_error_visible"},t=document.querySelector(".edit-popup"),s=document.querySelector(".add-popup"),n=document.querySelector(".avatar-popup"),i=document.querySelector(".profile__edit-button"),r=document.querySelector(".profile__add-button"),o=document.querySelector(".profile__image-container"),a=t.querySelector(".form__input[name='name']"),l=t.querySelector(".form__input[name='title']");class c{constructor(e,t){let{data:s,handleCardClick:n,handleDeleteCard:i,handleCardlike:r}=e;var o,a;a=()=>{this._element.remove(),this._element=null},(o="deleteCard")in this?Object.defineProperty(this,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):this[o]=a,this._name=s.name,this._link=s.link,this._handleCardClick=n,this._handleDeleteCard=i,this._handleCardlike=r,this._id=s._id,this._likes=s.likes,this._userId=t,this._ownerId=s.owner._id}_getTemplate(){return document.querySelector("#place-template").content.querySelector(".place").cloneNode(!0)}generateCard(){this._element=this._getTemplate(),this._placeImage=this._element.querySelector(".place__image");const e=this._element.querySelector(".place__title");return this._placeImage.src=this._link,this._placeImage.alt="Photo of ".concat(this._name),e.textContent=this._name,this._element.querySelector(".place__likes-count").textContent=this._likes.length,this._userId!==this._ownerId&&(this._element.querySelector(".place__delete_button").style.display="none"),this.updateLikes(this._likes),this._setEventListeners(),this._element}_setEventListeners(){this._element.querySelector(".place__like-button").addEventListener("click",(()=>this._handleCardlike(this._id))),this._element.querySelector(".place__delete_button").addEventListener("click",(()=>this._handleDeleteCard(this._id))),this._placeImage.addEventListener("click",(()=>this._handleCardClick()))}updateLikes(e){this._likes=e,this._element.querySelector(".place__likes-count").textContent=this._likes.length,this.isLiked()?this._element.querySelector(".place__like-button").classList.add("place__like-button_active"):this._element.querySelector(".place__like-button").classList.remove("place__like-button_active")}isLiked(){return this._likes.some((e=>e._id===this._userId))}}class h{constructor(e,t){this._form=t,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass}_hasInvalidInput(){return this._inputsList.every((e=>e.validity.valid))}_toggleButton(){this._hasInvalidInput()?this._enableButton():this._disableButton()}_enableButton(){this._button.disabled=!1,this._button.classList.remove(this._inactiveButtonClass)}_disableButton(){this._button.disabled=!0,this._button.classList.add(this._inactiveButtonClass)}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_showInputError(e){const t=this._form.querySelector("#".concat(e.id,"-error"));e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=document.querySelector("#".concat(e.id,"-error"));e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}_setEventListeners(){this._inputsList=Array.from(this._form.querySelectorAll(this._inputSelector)),this._button=this._form.querySelector(this._submitButtonSelector),this._toggleButton(),this._inputsList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButton()}))}))}enableValidation(){this._form.addEventListener("submit",(e=>e.preventDefault())),this._setEventListeners()}resetValidation(){this._toggleButton(),this._inputsList.forEach((e=>{this._hideInputError(e)}))}}function u(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class _{constructor(e){u(this,"_handleEscClose",(e=>{"Escape"==e.key&&this.close()})),u(this,"_handleOverlayClick",(e=>{e.target===e.currentTarget&&this.close()})),this._popupElement=document.querySelector(e),this._submitButton=document.querySelector(".form__button"),this._submitButtonText=this._submitButton.textContent}open(){this._popupElement.classList.add("popup__active"),document.addEventListener("keydown",this._handleEscClose),this._popupElement.addEventListener("mousedown",this._handleOverlayClick)}close(){this._popupElement.classList.remove("popup__active"),document.removeEventListener("keydown",this._handleEscClose),this._popupElement.removeEventListener("mousedown",this._handleOverlayClick)}handleLoading(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Saving...";this._submitButton.textContent=e?t:this._submitButtonText}setEventListeners(){this._popupElement.querySelector(".popup__close-button").addEventListener("mousedown",(()=>this.close()))}}class d extends _{constructor(e,t){super(e),this._handleSubmit=t}_getInputValues(){this._inputsList=[...this._popupElement.querySelectorAll(".form__input")];const e={};return this._inputsList.forEach((t=>{e[t.name]=t.value})),e}setEventListeners(){this._popupElement.addEventListener("submit",(e=>{e.preventDefault(),this._handleSubmit(this._getInputValues()),this.close(),this._popupElement.querySelector(".form").reset()})),super.setEventListeners()}close(){super.close()}}const p=new class{constructor(e){let{baseUrl:t,headers:s}=e;this._baseUrl=t,this._headers=s}_checkResponse(e){return e.ok?e.json():Promise.reject(e.statusText)}getInitialCards(){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then(this._checkResponse)}getUserInfo(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then(this._checkResponse)}setUserInfo(e,t){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers,method:"PATCH",body:JSON.stringify({name:e,about:t})}).then(this._checkResponse)}setUserAvatar(e){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:e})}).then(this._checkResponse)}createCard(e){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers,method:"POST",body:JSON.stringify(e)}).then(this._checkResponse)}deleteCard(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{headers:this._headers,method:"DELETE"}).then(this._checkResponse)}toggleLike(e,t){let s;return s=t?"DELETE":"PUT",fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:s}).then(this._checkResponse)}}({baseUrl:"https://around.nomoreparties.co/v1/cohort-3-en",headers:{authorization:"a987f557-c5fc-4df9-a055-4063817e4bf0","Content-Type":"application/json"}});let m;Promise.all([p.getInitialCards(),p.getUserInfo()]).then((e=>{let[t,s]=e;var n;m=s._id,g.renderer(t),n=s,b.setUserInfo(n.name,n.about),b.setUserImage(n.avatar)}));const v=e=>{const t=(e=>{const t=new c({data:e,handleCardClick:()=>E.open(e),handleDeleteCard:e=>{f.open(),f.setAction((()=>{p.deleteCard(e).then(f.handleLoading(!0,"Deleting...")).catch((e=>console.log(e))).finally(f.handleLoading(!1)),t.deleteCard()}))},handleCardlike:e=>{const s=t.isLiked();p.toggleLike(e,s).then((e=>{t.updateLikes(e.likes)}))}},m);return t.generateCard()})(e);g.addItem(t)},b=new class{constructor(e){let{nameSelector:t,jobSelector:s,imageSelector:n}=e;this._userName=document.querySelector(t),this._userJob=document.querySelector(s),this._userImage=document.querySelector(n)}getUserInfo(){return{name:this._userName.textContent,job:this._userJob.textContent}}setUserInfo(e,t){this._userName.textContent=e,this._userJob.textContent=t}setUserImage(e){this._userImage.src=e}setImageVisible(){this._userImage.style.visibility="visible"}}({nameSelector:".profile__name",jobSelector:".profile__title",imageSelector:".profile__image"}),g=new class{constructor(e,t){let{renderer:s}=e;this._renderer=s,this._container=document.querySelector(t)}renderer(e){e.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}}({renderer:v},".places__list"),f=new class extends _{setAction(e){this._handleSubmit=e}setEventListeners(){this._popupElement.addEventListener("submit",(e=>{e.preventDefault(),this._handleSubmit(),this.close()})),super.setEventListeners()}}(".delete-popup"),E=new class extends _{constructor(e){super(e)}open(e){this._popupImage=this._popupElement.querySelector(".popup__image");const t=this._popupElement.querySelector(".popup__caption");this._popupImage.src=e.link,this._popupImage.alt="Photo of ".concat(e.name),t.textContent=e.name,super.setEventListeners(),super.open()}}(".image-popup"),y=new d(".avatar-popup",(e=>{y.handleLoading(!0),p.setUserAvatar(e.avatar).then(b.setUserImage(e.avatar)).catch((e=>console.log(e))).finally(y.handleLoading(!1))})),L=new d(".add-popup",(e=>{p.createCard(e).then((e=>{L.handleLoading(!0),v(e),S.resetValidation()})).catch((e=>console.log(e))).finally(L.handleLoading(!1))})),C=new d(".edit-popup",(e=>{C.handleLoading(!0),p.setUserInfo(e.name,e.title).then(b.setUserInfo(e.name,e.title)).catch((e=>console.log(e))).finally(C.handleLoading(!1))})),k=new h(e,t),S=new h(e,s),I=new h(e,n);C.setEventListeners(),L.setEventListeners(),f.setEventListeners(),y.setEventListeners(),k.enableValidation(),S.enableValidation(),I.enableValidation(),i.addEventListener("click",(()=>{k.resetValidation(),C.open(),(()=>{const e=b.getUserInfo();a.value=e.name,l.value=e.job})()})),r.addEventListener("click",(()=>{S.resetValidation(),L.open()})),o.addEventListener("click",(()=>{I.resetValidation(),y.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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R0FBTW9ILE1BQUtSLElBQ3hCK0QsRUFBU2xGLGVBQWMsR0FDdkJnRCxFQUFXN0IsR0FDWGdFLEVBQXNCakcscUJBQ3JCb0UsT0FBTUMsR0FBT0MsUUFBUUMsSUFBSUYsS0FDM0JHLFFBQVF3QixFQUFTbEYsZUFBYyxPQUc1Qm9GLEVBQVksSUFBSWhGLEVBQWMsZUFBZ0I3RixJQUNsRDZLLEVBQVVwRixlQUFjLEdBQ3hCYSxFQUFJZ0IsWUFBWXRILEVBQUtRLEtBQU1SLEVBQUs4SyxPQUMvQjFELEtBQUttQixFQUFTakIsWUFBWXRILEVBQUtRLEtBQU1SLEVBQUs4SyxRQUFRL0IsT0FBTUMsR0FBT0MsUUFBUUMsSUFBSUYsS0FDM0VHLFFBQVEwQixFQUFVcEYsZUFBYyxPQUk3QnNGLEVBQXVCLElBQUl0SSxFQUFjN0QsRUFBb0JPLEdBQzdEeUwsRUFBd0IsSUFBSW5JLEVBQWM3RCxFQUFvQlUsR0FDOUQwTCxFQUFzQixJQUFJdkksRUFBYzdELEVBQW9CVyxHQUdsRXNMLEVBQVVqRixvQkFDVitFLEVBQVMvRSxvQkFDVGlELEVBQVlqRCxvQkFDWjhFLEVBQVk5RSxvQkFDWm1GLEVBQXFCdkcsbUJBQ3JCb0csRUFBc0JwRyxtQkFDdEJ3RyxFQUFvQnhHLG1CQUdwQmhGLEVBQWtCMEMsaUJBQWlCLFNBQVMsS0FDMUM2SSxFQUFxQnBHLGtCQUNyQmtHLEVBQVV4RixPQXRFWSxNQUN0QixNQUFNNEYsRUFBTzFDLEVBQVNsQixjQUN0QjFILEVBQWF3RyxNQUFROEUsRUFBS3pLLEtBQzFCWixFQUFjdUcsTUFBUThFLEVBQUtyQixLQW9FM0JzQixNQUdGekwsRUFBZXlDLGlCQUFpQixTQUFTLEtBQ3ZDMEksRUFBc0JqRyxrQkFDdEJnRyxFQUFTdEYsVUFHWDNGLEVBQU93QyxpQkFBaUIsU0FBUyxLQUMvQjhJLEVBQW9Cckcsa0JBQ3BCK0YsRUFBWXJGLFUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3BhZ2UvaW5kZXguanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhTdWJtaXQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vLS0tLS0tLS0tLS0tLS0tLUNvbnN0YW50cy0tLS0tLS0tLS0tLS0tLS1cclxuY29uc3QgaW5pdGlhbENhcmRzID0gW1xyXG4gIHtcclxuICAgIG5hbWU6IFwiQW50ZWxvcGUgQ2FueW9uXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNTI3Mjg1NDg5LWVmYThmNGVhOGIwYz9peGxpYj1yYi0xLjIuMSZpeGlkPU1ud3hNakEzZkRCOE1IeHdhRzkwYnkxd1lXZGxmSHg4ZkdWdWZEQjhmSHg4JmF1dG89Zm9ybWF0JmZpdD1jcm9wJnc9NzM1JnE9ODBcIlxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJTYWx0IENyZWVrIEZhbGxzXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNDk0NDcyMTU1NjU2LWYzNGU4MWIxN2RkYz9peGxpYj1yYi0xLjIuMSZpeGlkPU1ud3hNakEzZkRCOE1IeHdhRzkwYnkxd1lXZGxmSHg4ZkdWdWZEQjhmSHg4JmF1dG89Zm9ybWF0JmZpdD1jcm9wJnc9Njg4JnE9ODBcIlxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJUcnVja2VlXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNTE2NjgzMTc5MjgyLWI3ZjYwM2FiNmViYT9peGxpYj1yYi0xLjIuMSZpeGlkPU1ud3hNakEzZkRCOE1IeHdhRzkwYnkxd1lXZGxmSHg4ZkdWdWZEQjhmSHg4JmF1dG89Zm9ybWF0JmZpdD1jcm9wJnc9NzY0JnE9ODBcIlxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYWtlIFBvd2VsbFwiLFxyXG4gICAgbGluazogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTUxNjU1NzEzOTUxMC0xMzQ1MGY3ZDMxMjQ/aXhsaWI9cmItMS4yLjEmaXhpZD1Nbnd4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OCZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZ3PTY4NyZxPTgwXCJcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiR3JhbmQgQ2FueW9uIFZpbGxhZ2VcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE0ODI3MDk3NDYwNDEtMWFkYzVhOGFlZjAwP2l4bGliPXJiLTEuMi4xJml4aWQ9TW53eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDgmYXV0bz1mb3JtYXQmZml0PWNyb3Amdz0xMTcwJnE9ODBcIlxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJNaWFtaSBCZWFjaFwiLFxyXG4gICAgbGluazogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTYwNTcyMzUxNzUwMy0zY2FkYjU4MThhMGM/aXhsaWI9cmItMS4yLjEmaXhpZD1Nbnd4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OCZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZ3PTExNzAmcT04MFwiXHJcbiAgfVxyXG5dO1xyXG4gIFxyXG5jb25zdCB2YWxpZGF0aW9uU2V0dGluZ3MgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5mb3JtXCIsXHJcbiAgaW5wdXRTZWxlY3RvcjogXCIuZm9ybV9faW5wdXRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIuZm9ybV9fYnV0dG9uXCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJmb3JtX19idXR0b25fZGlzYWJsZWRcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwiZm9ybV9faW5wdXRfdHlwZV9lcnJvclwiLFxyXG4gIGVycm9yQ2xhc3M6IFwiZm9ybV9faW5wdXRfZXJyb3JfdmlzaWJsZVwiXHJcbn07XHJcblxyXG4vLy0tLS0tLS0tLS0tLS0tLS1Nb2RhbHMtLS0tLS0tLS0tLS0tLS0tXHJcbmNvbnN0IGVkaXRQcm9maWxlUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVkaXQtcG9wdXBcIik7XHJcbmNvbnN0IGFkZENhcmRQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkLXBvcHVwXCIpO1xyXG5jb25zdCBhdmF0YXJFZGl0UG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmF2YXRhci1wb3B1cFwiKTtcclxuXHJcbi8vLS0tLS0tLS0tLS0tLS0tLUJ1dHRvbnMtLS0tLS0tLS0tLS0tLS0tXHJcbmNvbnN0IGVkaXRQcm9maWxlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiKTtcclxuY29uc3QgYWRkUGxhY2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XHJcbmNvbnN0IGF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9faW1hZ2UtY29udGFpbmVyXCIpO1xyXG5cclxuXHJcbi8vLS0tLS0tLS0tLS0tLS0tLUlucHV0cy0tLS0tLS0tLS0tLS0tLS1cclxuY29uc3QgbmV3TmFtZUlucHV0ID0gZWRpdFByb2ZpbGVQb3B1cC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2lucHV0W25hbWU9J25hbWUnXVwiKTtcclxuY29uc3QgbmV3VGl0bGVJbnB1dCA9IGVkaXRQcm9maWxlUG9wdXAucXVlcnlTZWxlY3RvcihcIi5mb3JtX19pbnB1dFtuYW1lPSd0aXRsZSddXCIpO1xyXG5cclxuZXhwb3J0IHtcclxuICBpbml0aWFsQ2FyZHMsIHZhbGlkYXRpb25TZXR0aW5ncywgZWRpdFByb2ZpbGVQb3B1cCwgYWRkQ2FyZFBvcHVwLFxyXG4gIGVkaXRQcm9maWxlQnV0dG9uLCBhZGRQbGFjZUJ1dHRvbiwgbmV3TmFtZUlucHV0LCBuZXdUaXRsZUlucHV0LCBhdmF0YXIsIGF2YXRhckVkaXRQb3B1cFxyXG59OyIsImltcG9ydCB7IFBvcHVwV2l0aEltYWdlIH0gZnJvbSBcIi4vUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcclxuICAgIGNvbnN0cnVjdG9yKHtkYXRhLCBoYW5kbGVDYXJkQ2xpY2ssIGhhbmRsZURlbGV0ZUNhcmQsIGhhbmRsZUNhcmRsaWtlfSwgdXNlcklkKSB7XHJcbiAgICAgICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcclxuICAgICAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcclxuICAgICAgICB0aGlzLl9oYW5kbGVEZWxldGVDYXJkID0gaGFuZGxlRGVsZXRlQ2FyZDtcclxuICAgICAgICB0aGlzLl9oYW5kbGVDYXJkbGlrZSA9IGhhbmRsZUNhcmRsaWtlO1xyXG4gICAgICAgIHRoaXMuX2lkID0gZGF0YS5faWQ7XHJcbiAgICAgICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xyXG5cclxuICAgICAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7XHJcbiAgICAgICAgdGhpcy5fb3duZXJJZCA9IGRhdGEub3duZXIuX2lkO1xyXG4gICAgfVxyXG5cclxuICAgIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcGxhY2UtdGVtcGxhdGVcIilcclxuICAgICAgICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcignLnBsYWNlJykuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICAgIHJldHVybiBjYXJkRWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICBnZW5lcmF0ZUNhcmQoKSB7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgICAgICAgdGhpcy5fcGxhY2VJbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGFjZV9faW1hZ2VcIik7XHJcbiAgICAgICAgY29uc3QgcGxhY2VUaXRsZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGFjZV9fdGl0bGVcIik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5fcGxhY2VJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgICAgIHRoaXMuX3BsYWNlSW1hZ2UuYWx0ID0gYFBob3RvIG9mICR7dGhpcy5fbmFtZX1gO1xyXG4gICAgICAgIHBsYWNlVGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGFjZV9fbGlrZXMtY291bnRcIikudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYodGhpcy5fdXNlcklkICE9PSB0aGlzLl9vd25lcklkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGFjZV9fZGVsZXRlX2J1dHRvblwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMudXBkYXRlTGlrZXModGhpcy5fbGlrZXMpO1xyXG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlX19saWtlLWJ1dHRvblwiKVxyXG4gICAgICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuX2hhbmRsZUNhcmRsaWtlKHRoaXMuX2lkKSk7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlX19kZWxldGVfYnV0dG9uXCIpXHJcbiAgICAgICAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5faGFuZGxlRGVsZXRlQ2FyZCh0aGlzLl9pZCkpO1xyXG4gICAgICAgIHRoaXMuX3BsYWNlSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuX2hhbmRsZUNhcmRDbGljaygpKTtcclxuICAgIH1cclxuXHJcbiAgICBkZWxldGVDYXJkID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlTGlrZXMobmV3TGlrZXMpIHtcclxuICAgICAgICB0aGlzLl9saWtlcyA9IG5ld0xpa2VzO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGFjZV9fbGlrZXMtY291bnRcIikudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XHJcbiAgICAgICAgaWYodGhpcy5pc0xpa2VkKCkpIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGFjZV9fbGlrZS1idXR0b25cIilcclxuICAgICAgICAgICAgLmNsYXNzTGlzdC5hZGQoXCJwbGFjZV9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xyXG4gICAgICAgIGVsc2UgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlX19saWtlLWJ1dHRvblwiKVxyXG4gICAgICAgICAgICAuY2xhc3NMaXN0LnJlbW92ZShcInBsYWNlX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XHJcbiAgICB9XHJcblxyXG4gICAgaXNMaWtlZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbGlrZXMuc29tZSgocGVyc29uKSA9PiBwZXJzb24uX2lkID09PSB0aGlzLl91c2VySWQpO1xyXG4gICAgfVxyXG4gICAgXHJcbn0iLCJleHBvcnQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgZm9ybVRvQ2hlY2spIHtcclxuICAgICAgICB0aGlzLl9mb3JtID0gZm9ybVRvQ2hlY2s7XHJcbiAgICAgICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IHNldHRpbmdzLmlucHV0U2VsZWN0b3I7XHJcbiAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBzZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcclxuICAgICAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcztcclxuICAgICAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBzZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3M7XHJcbiAgICAgICAgdGhpcy5fZXJyb3JDbGFzcyA9IHNldHRpbmdzLmVycm9yQ2xhc3M7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIF9oYXNJbnZhbGlkSW5wdXQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lucHV0c0xpc3QuZXZlcnkoKGlucHV0RWxlbWVudCkgPT4gaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgX3RvZ2dsZUJ1dHRvbigpIHtcclxuICAgICAgICBpZih0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9lbmFibGVCdXR0b24oKTsgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgdGhpcy5fZGlzYWJsZUJ1dHRvbigpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBfZW5hYmxlQnV0dG9uKCkge1xyXG4gICAgICAgIHRoaXMuX2J1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX2J1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBfZGlzYWJsZUJ1dHRvbigpIHtcclxuICAgICAgICB0aGlzLl9idXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuX2J1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xyXG4gICAgICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICAgICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgICAgICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgICAgICBjb25zdCBlcnJvckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy5faW5wdXRzTGlzdCA9IEFycmF5LmZyb20odGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpKTtcclxuICAgICAgICB0aGlzLl9idXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvbigpO1xyXG5cclxuICAgICAgICB0aGlzLl9pbnB1dHNMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICAgICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IGV2dC5wcmV2ZW50RGVmYXVsdCgpKTtcclxuICAgICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlc2V0VmFsaWRhdGlvbigpIHtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b24oKTtcclxuICAgICAgICB0aGlzLl9pbnB1dHNMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fYnV0dG9uXCIpO1xyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblRleHQgPSB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgb3BlbigpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBvcHVwX19hY3RpdmVcIik7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuX2hhbmRsZU92ZXJsYXlDbGljayk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2UoKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9fYWN0aXZlXCIpO1xyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLl9oYW5kbGVPdmVybGF5Q2xpY2spO1xyXG4gICAgfVxyXG5cclxuICAgIF9oYW5kbGVFc2NDbG9zZSA9IChldnQpID0+IHtcclxuICAgICAgICBpZihldnQua2V5ID09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBfaGFuZGxlT3ZlcmxheUNsaWNrID0gKGV2dCkgPT4ge1xyXG4gICAgICAgIGlmKGV2dC50YXJnZXQgPT09IGV2dC5jdXJyZW50VGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlTG9hZGluZyhpc0xvYWRpbmcsIGxvYWRpbmdUZXh0ID0gXCJTYXZpbmcuLi5cIikge1xyXG4gICAgICAgIGlmKGlzTG9hZGluZykge1xyXG4gICAgICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBsb2FkaW5nVGV4dDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSB0aGlzLl9zdWJtaXRCdXR0b25UZXh0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICBjb25zdCBjbG9zZUJ1dHRvbiA9ICB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2UtYnV0dG9uXCIpO1xyXG5cclxuICAgICAgICBjbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsICgpID0+IHRoaXMuY2xvc2UoKSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVTdWJtaXQpIHtcclxuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKVxyXG4gICAgICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCA9IGhhbmRsZVN1Ym1pdDtcclxuICAgIH1cclxuXHJcbiAgICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICAgICAgdGhpcy5faW5wdXRzTGlzdCA9IFsuLi50aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5mb3JtX19pbnB1dFwiKV07XHJcbiAgICAgICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB7fTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLl9pbnB1dHNMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgICAgICAgIGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdPSBpbnB1dC52YWx1ZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gaW5wdXRWYWx1ZXM7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVTdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybVwiKS5yZXNldCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNsb3NlKCkge1xyXG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB9XHJcbn0iLCJjbGFzcyBBcGkge1xyXG4gICAgY29uc3RydWN0b3Ioe2Jhc2VVcmwsIGhlYWRlcnN9KSB7XHJcbiAgICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xyXG4gICAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcclxuICAgIH1cclxuXHJcbiAgICBfY2hlY2tSZXNwb25zZShyZXMpIHtcclxuICAgICAgaWYocmVzLm9rKSByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgZWxzZSByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVzLnN0YXR1c1RleHQpO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICAgIH1cclxuICBcclxuICAgIGdldFVzZXJJbmZvKCkge1xyXG4gICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG4gICAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVzZXJJbmZvKG5hbWUsIGFib3V0KSB7XHJcbiAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgICBhYm91dDogYWJvdXQsXHJcbiAgICAgICAgfSksXHJcbiAgICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VXNlckF2YXRhcihhdmF0YXIpIHtcclxuICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIGF2YXRhcjogYXZhdGFyXHJcbiAgICAgICAgfSksXHJcbiAgICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlQ2FyZChkYXRhKSB7XHJcbiAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSlcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgIH1cclxuXHJcbiAgIGRlbGV0ZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9YCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCJcclxuICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIHRvZ2dsZUxpa2UoY2FyZElkLCBpc0xpa2VkKSB7XHJcbiAgICBsZXQgbWV0aG9kO1xyXG4gICAgaXNMaWtlZCA/IChtZXRob2QgPSBcIkRFTEVURVwiKSA6IChtZXRob2QgPSBcIlBVVFwiKVxyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgbWV0aG9kOiBtZXRob2RcclxuICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcbn1cclxuICBcclxuICBleHBvcnQgY29uc3QgYXBpID0gbmV3IEFwaSh7XHJcbiAgICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTMtZW5cIixcclxuICAgIGhlYWRlcnM6IHtcclxuICAgICAgYXV0aG9yaXphdGlvbjogXCJhOTg3ZjU1Ny1jNWZjLTRkZjktYTA1NS00MDYzODE3ZTRiZjBcIixcclxuICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcclxuICAgIH1cclxuICB9KTsiLCIvLy0tLS0tLS0tLS0tLS0tLS1JbXBvcnRzLS0tLS0tLS0tLS0tLS0tLVxyXG5pbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5pbXBvcnQgeyB2YWxpZGF0aW9uU2V0dGluZ3MsIGVkaXRQcm9maWxlUG9wdXAsIGFkZENhcmRQb3B1cCxcclxuICBlZGl0UHJvZmlsZUJ1dHRvbiwgYWRkUGxhY2VCdXR0b24sIG5ld05hbWVJbnB1dCwgbmV3VGl0bGVJbnB1dCwgYXZhdGFyLCBhdmF0YXJFZGl0UG9wdXAgfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XHJcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuaW1wb3J0IHsgU2VjdGlvbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IHsgRm9ybVZhbGlkYXRvciB9IGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aFN1Ym1pdCBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhTdWJtaXQuanNcIjtcclxuaW1wb3J0IHsgVXNlckluZm8gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQgeyBhcGkgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuXHJcbi8vLS0tLS0tLS0tLS0tLS0tLUZ1bmN0aW9ucy0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbmxldCB1c2VySWQ7XHJcblxyXG5Qcm9taXNlLmFsbChbYXBpLmdldEluaXRpYWxDYXJkcygpLCBhcGkuZ2V0VXNlckluZm8oKV0pXHJcbiAgLnRoZW4oKFtjYXJkRGF0YSwgdXNlckRhdGFdKSA9PiB7XHJcbiAgICB1c2VySWQgPSB1c2VyRGF0YS5faWQ7XHJcbiAgICBwbGFjZXNTZWN0aW9uLnJlbmRlcmVyKGNhcmREYXRhKTtcclxuICAgIGZpbGxQcm9maWxlU2VjdGlvbih1c2VyRGF0YSk7XHJcbiAgfSk7XHJcblxyXG5jb25zdCBnZW5lcmF0ZUNhcmQgPSAoZGF0YSkgPT4ge1xyXG4gIGNvbnN0IG5ld0NhcmQgPSBuZXcgQ2FyZCh7XHJcbiAgICBkYXRhLFxyXG4gICAgaGFuZGxlQ2FyZENsaWNrOiAoKSA9PiBpbWFnZVBvcHVwLm9wZW4oZGF0YSksXHJcbiAgICBoYW5kbGVEZWxldGVDYXJkOiAoaWQpID0+IHtcclxuICAgICAgZGVsZXRlUG9wdXAub3BlbigpO1xyXG4gICAgICBkZWxldGVQb3B1cC5zZXRBY3Rpb24oKCkgPT4ge1xyXG4gICAgICAgIGFwaS5kZWxldGVDYXJkKGlkKS50aGVuKGRlbGV0ZVBvcHVwLmhhbmRsZUxvYWRpbmcodHJ1ZSwgXCJEZWxldGluZy4uLlwiKSlcclxuICAgICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpLmZpbmFsbHkoZGVsZXRlUG9wdXAuaGFuZGxlTG9hZGluZyhmYWxzZSkpO1xyXG4gICAgICAgIG5ld0NhcmQuZGVsZXRlQ2FyZCgpO1xyXG4gICAgICB9KX0sXHJcbiAgICBoYW5kbGVDYXJkbGlrZTogKGlkKSA9PiB7XHJcbiAgICAgIGNvbnN0IGxpa2VBY3RpdmUgPSBuZXdDYXJkLmlzTGlrZWQoKTtcclxuICAgICAgaWYobGlrZUFjdGl2ZSkge1xyXG4gICAgICAgIGFwaS50b2dnbGVMaWtlKGlkLCBsaWtlQWN0aXZlKS50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgICBuZXdDYXJkLnVwZGF0ZUxpa2VzKHJlcy5saWtlcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXBpLnRvZ2dsZUxpa2UoaWQsIGxpa2VBY3RpdmUpLnRoZW4ocmVzID0+IHtcclxuICAgICAgICAgIG5ld0NhcmQudXBkYXRlTGlrZXMocmVzLmxpa2VzKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sIHVzZXJJZCk7XHJcbiAgICBcclxuICBjb25zdCBjYXJkRWxlbWVudCA9IG5ld0NhcmQuZ2VuZXJhdGVDYXJkKCk7XHJcbiAgcmV0dXJuIGNhcmRFbGVtZW50O1xyXG59O1xyXG5cclxuY29uc3QgcmVuZGVyQ2FyZCA9IChkYXRhKSA9PiB7XHJcbiAgY29uc3QgY2FyZCA9IGdlbmVyYXRlQ2FyZChkYXRhKTtcclxuICBwbGFjZXNTZWN0aW9uLmFkZEl0ZW0oY2FyZCk7XHJcbn1cclxuXHJcblxyXG5jb25zdCBmaWxsUHJvZmlsZUZvcm0gPSAoKSA9PiB7XHJcbiAgY29uc3QgaW5mbyA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XHJcbiAgbmV3TmFtZUlucHV0LnZhbHVlID0gaW5mby5uYW1lO1xyXG4gIG5ld1RpdGxlSW5wdXQudmFsdWUgPSBpbmZvLmpvYjtcclxufVxyXG5cclxuZnVuY3Rpb24gZmlsbFByb2ZpbGVTZWN0aW9uKHJlcykge1xyXG4gIHVzZXJJbmZvLnNldFVzZXJJbmZvKHJlcy5uYW1lLCByZXMuYWJvdXQpO1xyXG4gIHVzZXJJbmZvLnNldFVzZXJJbWFnZShyZXMuYXZhdGFyKTtcclxufVxyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tQ2xhc3NlcyBpbml0aWFsaXphdGlvbi0tLS0tLS0tLS0tLS0tLS1cclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xyXG4gIG5hbWVTZWxlY3RvcjogXCIucHJvZmlsZV9fbmFtZVwiLFxyXG4gIGpvYlNlbGVjdG9yOiBcIi5wcm9maWxlX190aXRsZVwiLFxyXG4gIGltYWdlU2VsZWN0b3I6IFwiLnByb2ZpbGVfX2ltYWdlXCJcclxufSk7XHJcblxyXG5jb25zdCBwbGFjZXNTZWN0aW9uID0gbmV3IFNlY3Rpb24oXHJcbiAge1xyXG4gICAgcmVuZGVyZXI6IHJlbmRlckNhcmRcclxuICB9LFxyXG4gIFwiLnBsYWNlc19fbGlzdFwiXHJcbik7XHJcblxyXG4vLy0tLS0tLS0tLS0tLS0tLS1Qb3B1cHMtLS0tLS0tLS0tLS0tLS0tXHJcbmNvbnN0IGRlbGV0ZVBvcHVwID0gbmV3IFBvcHVwV2l0aFN1Ym1pdChcIi5kZWxldGUtcG9wdXBcIik7XHJcblxyXG5jb25zdCBpbWFnZVBvcHVwID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiLmltYWdlLXBvcHVwXCIpO1xyXG5cclxuY29uc3QgYXZhdGFyUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcIi5hdmF0YXItcG9wdXBcIiwgKGRhdGEpID0+IHtcclxuICBhdmF0YXJQb3B1cC5oYW5kbGVMb2FkaW5nKHRydWUpXHJcbiAgYXBpLnNldFVzZXJBdmF0YXIoZGF0YS5hdmF0YXIpXHJcbiAgICAudGhlbih1c2VySW5mby5zZXRVc2VySW1hZ2UoZGF0YS5hdmF0YXIpKS5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSlcclxuICAgIC5maW5hbGx5KGF2YXRhclBvcHVwLmhhbmRsZUxvYWRpbmcoZmFsc2UpKTtcclxufSk7XHJcblxyXG5jb25zdCBhZGRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiLmFkZC1wb3B1cFwiLCAoZGF0YSkgPT4ge1xyXG4gIGFwaS5jcmVhdGVDYXJkKGRhdGEpLnRoZW4ocmVzID0+IHtcclxuICAgIGFkZFBvcHVwLmhhbmRsZUxvYWRpbmcodHJ1ZSk7XHJcbiAgICByZW5kZXJDYXJkKHJlcyk7XHJcbiAgICBhZGRQbGFjZUZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgfSkuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpXHJcbiAgLmZpbmFsbHkoYWRkUG9wdXAuaGFuZGxlTG9hZGluZyhmYWxzZSkpO1xyXG59KTtcclxuXHJcbmNvbnN0IGVkaXRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiLmVkaXQtcG9wdXBcIiwgKGRhdGEpID0+IHtcclxuICBlZGl0UG9wdXAuaGFuZGxlTG9hZGluZyh0cnVlKTtcclxuICBhcGkuc2V0VXNlckluZm8oZGF0YS5uYW1lLCBkYXRhLnRpdGxlKVxyXG4gIC50aGVuKHVzZXJJbmZvLnNldFVzZXJJbmZvKGRhdGEubmFtZSwgZGF0YS50aXRsZSkpLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG4gIC5maW5hbGx5KGVkaXRQb3B1cC5oYW5kbGVMb2FkaW5nKGZhbHNlKSk7O1xyXG59KTtcclxuXHJcbi8vLS0tLS0tLS0tLS0tLS0tLUZvcm0gVmFsaWRhdG9ycy0tLS0tLS0tLS0tLS0tLS1cclxuY29uc3QgcHJvZmlsZUZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uU2V0dGluZ3MsIGVkaXRQcm9maWxlUG9wdXApO1xyXG5jb25zdCBhZGRQbGFjZUZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uU2V0dGluZ3MsIGFkZENhcmRQb3B1cCk7XHJcbmNvbnN0IGF2YXRhckZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uU2V0dGluZ3MsIGF2YXRhckVkaXRQb3B1cCk7XHJcblxyXG4vLy0tLS0tLS0tLS0tLS0tLS1FdmVudCBsaXN0ZW5lcnMtLS0tLS0tLS0tLS0tLS0tXHJcbmVkaXRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5hZGRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5kZWxldGVQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5hdmF0YXJQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5wcm9maWxlRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmFkZFBsYWNlRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmF2YXRhckZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tRXZlbnQgaGFuZGxlcnMtLS0tLS0tLS0tLS0tLS0tXHJcbmVkaXRQcm9maWxlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgcHJvZmlsZUZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgZWRpdFBvcHVwLm9wZW4oKTtcclxuICBmaWxsUHJvZmlsZUZvcm0oKTtcclxufSk7XHJcblxyXG5hZGRQbGFjZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGFkZFBsYWNlRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcclxuICBhZGRQb3B1cC5vcGVuKCk7XHJcbn0pO1xyXG5cclxuYXZhdGFyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgYXZhdGFyRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcclxuICBhdmF0YXJQb3B1cC5vcGVuKCk7XHJcbn0pOyIsImV4cG9ydCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgICBjb25zdHJ1Y3RvciAoe25hbWVTZWxlY3Rvciwgam9iU2VsZWN0b3IsIGltYWdlU2VsZWN0b3J9KSB7XHJcbiAgICAgICAgdGhpcy5fdXNlck5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5fdXNlckpvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioam9iU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX3VzZXJJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaW1hZ2VTZWxlY3Rvcik7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbmFtZTogdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgICAgICAgIGpvYjogdGhpcy5fdXNlckpvYi50ZXh0Q29udGVudFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VXNlckluZm8obmFtZSwgam9iKSB7XHJcbiAgICAgICAgdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMuX3VzZXJKb2IudGV4dENvbnRlbnQgPSBqb2I7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VXNlckltYWdlKGltYWdlKSB7XHJcbiAgICAgICAgdGhpcy5fdXNlckltYWdlLnNyYyA9IGltYWdlO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEltYWdlVmlzaWJsZSgpIHtcclxuICAgICAgICB0aGlzLl91c2VySW1hZ2Uuc3R5bGUudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIFNlY3Rpb24ge1xyXG4gICAgY29uc3RydWN0b3Ioe3JlbmRlcmVyfSwgY2xhc3NTZWxlY3Rvcikge1xyXG4gICAgICAgIC8vIHRoaXMuX2l0ZW1zID0gaXRlbXM7XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNsYXNzU2VsZWN0b3IpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcmVyKGl0ZW1zKSB7XHJcbiAgICAgICAgaXRlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdFN1Ym1pdCBleHRlbmRzIFBvcHVwe1xyXG4gICAgc2V0QWN0aW9uKGFjdGlvbikge1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCA9IGFjdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCgpO1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIH1cclxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKVxyXG4gICAgfVxyXG5cclxuICAgIG9wZW4oZGF0YSkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwSW1hZ2UgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1hZ2VcIik7XHJcbiAgICAgICAgY29uc3QgaW1hZ2VDYXB0aW9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2NhcHRpb25cIik7XHJcblxyXG4gICAgICAgIHRoaXMuX3BvcHVwSW1hZ2Uuc3JjID0gZGF0YS5saW5rO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwSW1hZ2UuYWx0ID0gIGBQaG90byBvZiAke2RhdGEubmFtZX1gO1xyXG4gICAgICAgIGltYWdlQ2FwdGlvbi50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcclxuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIH1cclxufSJdLCJuYW1lcyI6WyJ2YWxpZGF0aW9uU2V0dGluZ3MiLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsImVkaXRQcm9maWxlUG9wdXAiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRDYXJkUG9wdXAiLCJhdmF0YXJFZGl0UG9wdXAiLCJlZGl0UHJvZmlsZUJ1dHRvbiIsImFkZFBsYWNlQnV0dG9uIiwiYXZhdGFyIiwibmV3TmFtZUlucHV0IiwibmV3VGl0bGVJbnB1dCIsIkNhcmQiLCJjb25zdHJ1Y3RvciIsInVzZXJJZCIsImRhdGEiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVEZWxldGVDYXJkIiwiaGFuZGxlQ2FyZGxpa2UiLCJ0aGlzIiwiX2VsZW1lbnQiLCJyZW1vdmUiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZURlbGV0ZUNhcmQiLCJfaGFuZGxlQ2FyZGxpa2UiLCJfaWQiLCJfbGlrZXMiLCJsaWtlcyIsIl91c2VySWQiLCJfb3duZXJJZCIsIm93bmVyIiwiX2dldFRlbXBsYXRlIiwiY29udGVudCIsImNsb25lTm9kZSIsImdlbmVyYXRlQ2FyZCIsIl9wbGFjZUltYWdlIiwicGxhY2VUaXRsZSIsInNyYyIsImFsdCIsInRleHRDb250ZW50IiwibGVuZ3RoIiwic3R5bGUiLCJkaXNwbGF5IiwidXBkYXRlTGlrZXMiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJhZGRFdmVudExpc3RlbmVyIiwibmV3TGlrZXMiLCJpc0xpa2VkIiwiY2xhc3NMaXN0IiwiYWRkIiwic29tZSIsInBlcnNvbiIsIkZvcm1WYWxpZGF0b3IiLCJzZXR0aW5ncyIsImZvcm1Ub0NoZWNrIiwiX2Zvcm0iLCJfaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiX2hhc0ludmFsaWRJbnB1dCIsIl9pbnB1dHNMaXN0IiwiZXZlcnkiLCJpbnB1dEVsZW1lbnQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX3RvZ2dsZUJ1dHRvbiIsIl9lbmFibGVCdXR0b24iLCJfZGlzYWJsZUJ1dHRvbiIsIl9idXR0b24iLCJkaXNhYmxlZCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJlcnJvckVsZW1lbnQiLCJpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJpbnB1dCIsImVuYWJsZVZhbGlkYXRpb24iLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsInJlc2V0VmFsaWRhdGlvbiIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsImtleSIsImNsb3NlIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsIl9wb3B1cEVsZW1lbnQiLCJfc3VibWl0QnV0dG9uIiwiX3N1Ym1pdEJ1dHRvblRleHQiLCJvcGVuIiwiX2hhbmRsZUVzY0Nsb3NlIiwiX2hhbmRsZU92ZXJsYXlDbGljayIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJoYW5kbGVMb2FkaW5nIiwiaXNMb2FkaW5nIiwibG9hZGluZ1RleHQiLCJzZXRFdmVudExpc3RlbmVycyIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVTdWJtaXQiLCJzdXBlciIsIl9oYW5kbGVTdWJtaXQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJpbnB1dFZhbHVlcyIsInZhbHVlIiwiZSIsInJlc2V0IiwiYXBpIiwiYmFzZVVybCIsImhlYWRlcnMiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwiX2NoZWNrUmVzcG9uc2UiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzVGV4dCIsImdldEluaXRpYWxDYXJkcyIsImZldGNoIiwidGhlbiIsImdldFVzZXJJbmZvIiwic2V0VXNlckluZm8iLCJhYm91dCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5Iiwic2V0VXNlckF2YXRhciIsImNyZWF0ZUNhcmQiLCJkZWxldGVDYXJkIiwiY2FyZElkIiwidG9nZ2xlTGlrZSIsImF1dGhvcml6YXRpb24iLCJhbGwiLCJjYXJkRGF0YSIsInVzZXJEYXRhIiwicGxhY2VzU2VjdGlvbiIsInJlbmRlcmVyIiwidXNlckluZm8iLCJzZXRVc2VySW1hZ2UiLCJyZW5kZXJDYXJkIiwiY2FyZCIsIm5ld0NhcmQiLCJpbWFnZVBvcHVwIiwiZGVsZXRlUG9wdXAiLCJzZXRBY3Rpb24iLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJmaW5hbGx5IiwibGlrZUFjdGl2ZSIsImFkZEl0ZW0iLCJuYW1lU2VsZWN0b3IiLCJqb2JTZWxlY3RvciIsImltYWdlU2VsZWN0b3IiLCJfdXNlck5hbWUiLCJfdXNlckpvYiIsIl91c2VySW1hZ2UiLCJqb2IiLCJpbWFnZSIsInNldEltYWdlVmlzaWJsZSIsInZpc2liaWxpdHkiLCJjbGFzc1NlbGVjdG9yIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsIml0ZW1zIiwiaXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwiYWN0aW9uIiwiX3BvcHVwSW1hZ2UiLCJpbWFnZUNhcHRpb24iLCJhdmF0YXJQb3B1cCIsImFkZFBvcHVwIiwiYWRkUGxhY2VGb3JtVmFsaWRhdG9yIiwiZWRpdFBvcHVwIiwidGl0bGUiLCJwcm9maWxlRm9ybVZhbGlkYXRvciIsImF2YXRhckZvcm1WYWxpZGF0b3IiLCJpbmZvIiwiZmlsbFByb2ZpbGVGb3JtIl0sInNvdXJjZVJvb3QiOiIifQ==